# Lexical Scope

렉시컬 스코프를 이해하기 앞서 프로그래밍에서 스코프가 무엇인지 알 필요가있다. 아래의 링크에서 스코프가 뭔지
이해 하자<br>
[스코프란?](https://poiemaweb.com/js-scope)
위 링크에서 설명한 스코프를 정리해보자
스코프는 참조 대상 식별자를 찾아내기위한 규칙이며, 자바스크립트는 이 규칙대로 식별자를 찾는다.
또 스코프는 식별자에 유효범위를 줌으로써 같은이름의 식별자가 충돌을 이르키지 않도록하고, 다른 스코프에서 같은 이름을 갖는 식별자를 만들 수 있게 해준다.

# 자바스크림트 스코프 특징
~~~
int main(void) {
  // block-level scope
  if (1) {
    int x = 5;
    printf("x = %d\n", x);
  }

  printf("x = %d\n", x); // use of undeclared identifier 'x'

  return 0;
}
~~~
>예제 참고 https://poiemaweb.com/js-scope
위 코드는 c언어인데 위 코드를 보면 if 문의 {}안에서 선언된 x는 {} 안에서만 사용 할 수 있는걸 알 수있다.
이렇게 블록안에서 유효한 스코프를 '블록 레벨 스코프'라고 부른다.

자바스크립트는 함수 레벨 스코프(function-level-scope)로 함수 코드 블록 내에서 선언된변수는 함수코드블록 내에서만 유효하다.
하지만, ES6 부터는 let 변수키워드로 블록레벨 스코프도 사용 할 수 있다.

# lexical Scope
자바스크립트는 렉시컬스코프(정적스코프)방식으로 함수의 스코프를 결정한다.
렉시컬스코프는 함수를 어디에 선언하였는지에 따라 결정된다. 즉,
함수를 선언한 시점에 상위 스코프가 결정된다. 따라서 함수를 어디에서 호출하던지는 스코프 결정에 아무런 영향을 주지않는다.
~~~javaScript
var x = 1; //전역 변수

function ex1() {
  var x = 10; 
  ex2();
}

function ex2() {
  console.log(x);
}

ex1(); //  1
ex2(); //  1
~~~
위 예제는  1이 두번 출력된다.
그 이유는 ex1()안에 x=10으로 선언이 되어있지만 var는 함수레벨스코프 이기 때문에 ex1()의 블록인 {안이 스코프 영역이다} 따라서 전역으로 선언된 ex2에는 상위 스코프인 전역 변수 x=1의 값을 두 번 출력한다.

## 정리
- 자바스크립트에서 var는 함수 레벨 스코프 이다.
- 자바스크립트에서 let을 이용해 블록 레벨 스코프를 이용할 수 도 있다.
- 자바 스크립트는 렉시컬 스코프를 따른다.
- 렉시컬 스코프(정적 스코프)는 함수를 어디서 호출하는지가아닌 **함수가 어디에선언되어 있는지에 결정된다.**


>ref https://poiemaweb.com/js-scope