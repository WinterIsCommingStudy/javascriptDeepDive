## 전역 변수의 생명주기

##### 생명주기

변수는 생물과 유사하게 생성되고 소멸된다.
생명 주기가 없다면 한번 선언된 변수는 프로그램을 종료하지 않는 한 계속 메모리 공간을 점유한다.

##### 전역 변수의 생명 주기는

애플리케이션의 생명주기와 같고 ,
지역 변수는 함수가 호출되면 생성되고 함수가 종료하면 소멸한다.
→지역 변수의 생명 주기는 함수의 생명 주기와 일치

- 함수와 달리 전역 코드는 명시적 호출 없이 실행된다.
  (js 로드되자마자 곧바로 해석되고 실행된다는 말이다)
- var 키워드로 선언한 전역 변수는 전역 객체의 프로퍼티가 된다
- 전역 변수의 생명 주기와 전역 객체의 생명 주기가 일치한다는 것을 의미
- 즉, 웹 페이지를 닫을 때 까지 유효하다고 볼 수 있다.

##### 전역 객체는

코드 실행 이전에 자바스크립트 엔진에 의해 어떤 객체보다도 먼저 생성되는 특수한 객체다.
클라이언트 사이드 환경(브라우저)에서는 window, 서버 사이드 환경(Node.js)에서는 global 객체를 의미한다. 너프하게 전역 변수들을 담고 있는 객체라고 보면 될 것 같다.

### 전역 변수의 문제점

#### 암묵적 결합implicit coupling

코드 어디서든 참조하고 할당할 수 있는 변수를 사용하겠다는 의미.
유효 범위가 크니까... 코드 가독성 나빠지고 의도치 않게 상태가 변경될 수 있다.
코드가 몇 천줄인데, 여러 명이서 개발을 한다면?
같은 변수명을 사용해도 당장 문제가 눈에 보이지 않으니.. 같은 변수명을 사용하게 될 위험이 생긴다.

#### 긴 생명 주기

생명 주기가 길다는 것은? 메모리 리소스에 계속 값이 남아있다는 말이다. 이는 곧 자원을 지속적으로 사용한다는 것.
또한 상태가 변경 될 시간도 기회도 많다.(변수 이름이 중복되면 의도치 않은 재할당이 이뤄진다. )

#### 스코프 체인 상에서 종점에 존재

전역 변수는 스코프 체인 상에서 종점에 존재.
변수 검색할 때 전역 변수가 가장 마지막에 검색된다는 것을 의미한다.
즉, 전역 변수의 검색 속도가 가장 느리다. 다만 검색 속도의 차이가 그리 크진 않다.

#### 네임스페이스 오염

파일이 분리되어 있어도 하나의 전역 스코프를 공유하는 경우가 생길 수 있다.
전역 변수나 전역 함수가 같은 스코프 내에 존재할 경우 예상치 못한 결과를 가져온다.
개발자는 뭐가 잘못된건지 찾는데 시간이 걸린다(...)

---

###### 네임스페이스

이름이 존재 하는 공간이다.
즉 이름들을 한곳에 모아 충돌을 미리 방지 하고 해당 이름으로 선언된 변수와 함수를 쉽게 가져다 쓸 수 있도록 만든 메커니즘이다.
